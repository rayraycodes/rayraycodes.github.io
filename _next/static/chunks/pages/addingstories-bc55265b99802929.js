(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{1403:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addingstories",function(){return a(542)}])},542:function(e,t,a){"use strict";a.r(t);var n=a(5893),s=a(7294),o=a(4178);t.default=()=>{let[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[u,r]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[i,b]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),y=async t=>{let n,s;t.preventDefault(),f(!0);try{n=JSON.parse(u),s=JSON.parse(c)}catch(e){console.error("Invalid JSON:",e);return}let{data:l,error:r}=await o.O.from("stories").insert([{id:e,title:a,content:n,tags:s,created_at:new Date(i),backTo:p,type:h}]);r?console.error("Error: ",r):console.log("Story added: ",l),f(!1),w(!0)};return g?(0,n.jsx)("div",{children:"Loading..."}):N?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"Submitted!"}),(0,n.jsx)("button",{onClick:()=>{w(!1),f(!1)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add New Story"})]}):(0,n.jsxs)("form",{onSubmit:y,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"ID:"}),(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title:"}),(0,n.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Content (JSON):"}),(0,n.jsx)("textarea",{value:u,onChange:e=>r(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Tags (JSON):"}),(0,n.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Created At:"}),(0,n.jsx)("input",{type:"datetime-local",value:i,onChange:e=>b(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Back To:"}),(0,n.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("label",{className:"block mb-4",children:[(0,n.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Type:"}),(0,n.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsx)("input",{type:"submit",value:"Submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"})]})}},4178:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});let n=(0,a(6490).eI)("https://thglnguamddvnbmbzatm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRoZ2xuZ3VhbWRkdm5ibWJ6YXRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk3NzQ0NzMsImV4cCI6MjAzNTM1MDQ3M30.rTRPjDGyupgbt8sZw5ME-o57gA4SL7BrWURo3iHmejs")}},function(e){e.O(0,[490,888,774,179],function(){return e(e.s=1403)}),_N_E=e.O()}]);